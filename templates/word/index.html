<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{ word }} 在 Wiktionary 中的释义</title>
    <style>
        .button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            opacity: .8;
        }
        .add-button{
            color: #873e23;
        }
        .remov-button{
            color: black;
        }
        .sema{
            margin: 5px;
            padding: 5px;
            border: 2px solid white;
            background-color: #eeeee4;
        }
        .saved {
            background-color: #1e81b0;
        }
        .to-be-added {
            border: 2px solid #873e23;
        }
        .to-be-removed {
            border: 2px dotted black;
        }
        .lang-list {
            display: flex;
        }
        .lang-list * {
            margin: 5px;
        }
    </style>
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous"> -->
</head>
<body>
    <h3>查看 <i>{{ word }}</i> 在其他语言中的释义</h3>
    <div class="lang-list">
        {% for l in languages %}
        <a href="{{ url_for(
                'word.index', word='{}.{}'.format(entries[0].lemma, code_lang_normalizer(l))
                ) }}" class="language">
            {{ to_canonical_names(l) }}
        </a><br>
        {% endfor %}
    </div>
    <h1>
        Definition of <b class="language">{{ to_canonical_names(lang) }}</b>
        word <i class="word-name">{{ word }}</i> in Wiktionary
    </h1>
    <div class="button">
        <div class="add-button" hidden>
            <button>添加到生词本</button>
        </div>
        <div class="remov-button" hidden>
            <button>从生词本中删除</button>
        </div>
    </div>
    {% for entry in entries %}
        <div id="{{ entry.repr }}">
        <h2 class="homograph">{{ entry.lemma }}</h2>
        {% if entry.etym != '' %}
        <h3>Etymology</h3>
        <p class="etymology">{{ entry.etym }}</p>
        {% endif %}
        {% if entry.prnn != '' %}
        <h3>Pronunciation</h3>
        <ul class="pronunciation">
            {% for i in entry.prnn.split('\n') %}
                <li>
                    {{ i }}
                </li>
            {% endfor %}
        </ul>
        {% endif %}
        {% for word_by_pos in Word_by_PoS.find_by_repr(entry.repr) %}
            <h3 class="{{ word_by_pos.pos }}">{{ pos_dict[word_by_pos.pos] }}</h3>
            <p>{{ word_by_pos.text }}</p>
            <ol class="definitions">
            {% for sema in Sema.find_by_repr(word_by_pos.repr) %}
                <li data-sema-id={{ sema.id }} class="sema" 
                id="{{ 'etym' + sema.repr.split('>.')[1].split('.', 1)[1].replace('.', '') }}"
                >
                    <span>{{ sema.content }}</span>
                    <ul class="examples">
                        {% for example in sema.examples %}
                            <li>{{ example }}</li>
                        {% endfor %}
                    </ul>
                </li>
            {% endfor %}
            </ol>
        {% endfor %}
        </div>
        <hr>
    {% endfor %}
    <script src="/static/js/utils.js"></script>
    <script src="/static/js/ajax.js"></script>
    <script src="/static/js/word.js"></script>
</body>
</html>